import{$ as R,j as e,a0 as _,a1 as D,f as t,aa as M,a2 as z,a6 as r,U as O,a8 as k}from"./index-CeIe-P89.js";import{r as w,e as H}from"./App-BhD2WLvn.js";import{l as T}from"./lzutf8-light-CqsD3jo8.js";import{S as q}from"./Snackbar-CYmWIFhG.js";var s={},B=R;Object.defineProperty(s,"__esModule",{value:!0});var b=s.default=void 0,F=B(w()),U=e;b=s.default=(0,F.default)((0,U.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");const J=()=>{const{t:a}=_(),n=D(),{savedStops:i,savedEtas:l,collections:c}=t.useContext(M),{_colorMode:u,energyMode:p,platformMode:d,refreshInterval:x,annotateScheduled:h,vibrateDuration:f,etaFormat:m,numPadOrder:v,isRouteFilter:g,busSortOrder:C,analytics:j,isRecentSearchShown:S}=t.useContext(z),o=t.useMemo(()=>`https://${window.location.hostname}/${n}/import/`+encodeURIComponent(T.compress(JSON.stringify({savedStops:i,savedEtas:l,collections:c,_colorMode:u,energyMode:p,platformMode:d,refreshInterval:x,annotateScheduled:h,vibrateDuration:f,etaFormat:m,numPadOrder:v,isRouteFilter:g,busSortOrder:C,analytics:j,isRecentSearchShown:S},null,0),{outputEncoding:"Base64"}).replace(/\//g,"-")),[c,l,i,u,p,d,x,h,f,m,v,g,C,n,j,S]),[I,y]=t.useState(!1);return e.jsxs(r,{sx:V,children:[e.jsx(O,{variant:"h6",sx:{textAlign:"center"},children:a("資料匯出")}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",m:1},children:[e.jsx(H,{variant:"outlined",value:o,fullWidth:!0,spellCheck:!1}),e.jsx(r,{sx:{m:1},children:e.jsx(k,{startIcon:e.jsx(b,{}),onClick:()=>{var E;navigator.share?navigator.share({title:"Export hkbus.app",url:o}):(E=navigator.clipboard)==null||E.writeText(o).then(()=>{y(!0)})},size:"large",variant:"outlined",children:a("複制匯出網址")})})]}),e.jsx(q,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:I,autoHideDuration:1500,onClose:()=>{y(!1)},message:a("已複製到剪貼簿")})]})},V={justifyContent:"center",flex:1};export{J as default};
